"use strict"; $(function () { $("#dropdown").find("dd").mouseover(function () { $(this).find(".secondary").show() }), $("#dropdown").find("dd").mouseout(function () { $(this).find(".secondary").hide() }), function () { var n = 1, e = null, l = !0; function t() { e = setInterval(function () { n++, $("#carousel1").find("ul").animate({ left: 520 * -n }, i) }, 3e3) } function i() { 6 <= n && (n = 1, $("#carousel1").find("ul").css("left", 520 * -n)), n <= 0 && (n = 5, $("#carousel1").find("ul").css("left", 520 * -n)), $("#carousel1").find("ol>li").eq(n - 1).addClass("active").siblings("li").removeClass("active"), l = !0 } parseInt($("#carousel1").css("width")), t(), $("#carousel1-left").click(function () { l && (l = !1, n--, $("#carousel1").find("ul").animate({ left: 520 * -n }, i)) }), $("#carousel1-right").click(function () { l && (l = !1, n++, $("#carousel1").find("ul").animate({ left: 520 * -n }, i)) }), $("#carousel1").hover(function () { clearInterval(e), e = null, $("#carousel1-left").css("display", "block"), $("#carousel1-right").css("display", "block") }, function () { t(), $("#carousel1-left").css("display", "none"), $("#carousel1-right").css("display", "none") }), $("#carousel1").find("ol>li").click(function () { l && (n = $(this).index() + 1, console.log(n), $("#carousel1").find("ul").animate({ left: 520 * -n }, i)) }), document.onvisibilitychange = function () { "hidden" == document.visibilityState ? clearInterval(e) : t() } }(), function () { var n = 1, e = null, l = !0, t = parseInt($("#tianmao-lunbo").css("width")); function i() { e = setInterval(function () { n++, $("#tianmao-lunbo").find("ul").animate({ left: -n * t }, o) }, 4e3) } function o() { 6 <= n && (n = 1, $("#tianmao-lunbo").find("ul").css("left", -n * t)), n <= 0 && (n = 5, $("#tianmao-lunbo").find("ul").css("left", 520 * -n)), $(".tianmao").find("i").text(n), l = !0 } i(), $("#tianmao-left").click(function () { l && (l = !1, n--, $("#tianmao-lunbo").find("ul").animate({ left: -n * t }, o)) }), $("#tianmao-right").click(function () { l && (l = !1, n++, $("#tianmao-lunbo").find("ul").animate({ left: -n * t }, o)) }), $("#tianmao-lunbo").hover(function () { clearInterval(e), e = null, $("#tianmao-left").css("display", "block"), $("#tianmao-right").css("display", "block") }, function () { i(), $("#tianmao-left").css("display", "none"), $("#tianmao-right").css("display", "none") }), document.onvisibilitychange = function () { "hidden" == document.visibilityState ? clearInterval(e) : i() } }(), document.onscroll = function () { var n = document.documentElement.scrollTop; 156 < n ? $(".scrollTop1").css("display", "block") : $(".scrollTop1").css("display", "none"), 440 < n ? $(".backTop").css({ position: "fixed", top: "60px" }) : $(".backTop").css({ position: "absolute", top: "496.115px " }), n > window.innerHeight ? $("#show").css("display", "block") : $("#show").css("display", "none") }, $("#good").click(function () { if (660 < document.documentElement.scrollTop) var n = setInterval(function () { console.log(document.documentElement.scrollTop), document.documentElement.scrollTop -= 20, document.documentElement.scrollTop <= 660 && clearInterval(n) }, 3); else n = setInterval(function () { console.log(document.documentElement.scrollTop), document.documentElement.scrollTop += 20, 660 <= document.documentElement.scrollTop && clearInterval(n) }, 6) }), $("#like").click(function () { if (2970 < document.documentElement.scrollTop) var n = setInterval(function () { console.log(document.documentElement.scrollTop), document.documentElement.scrollTop -= 10, document.documentElement.scrollTop <= 2970 && clearInterval(n) }, 2); else n = setInterval(function () { console.log(document.documentElement.scrollTop), document.documentElement.scrollTop += 10, 2970 <= document.documentElement.scrollTop && clearInterval(n) }, 2) }), $("#show").click(function () { var n = setInterval(function () { document.documentElement.scrollTop -= 40, document.documentElement.scrollTop <= 0 && clearInterval(n) }, 5) }), $.ajax({ url: "../php/index.php", dataType: "json", async: !0, success: function (n) { for (var e = "", l = 0; l < n.length; l++)e += '<li class="clear ye"  class="ye" index="' + n[l].id + '">\n                <img src="' + n[l].img + '" alt="">\n                <p>' + n[l].title + '</p>\n                <div class="clear">\n                    <b>￥</b>\n                    <h3>' + n[l].inven + "</h3>\n                    <i>销量19</i>\n                </div>\n            </li>"; $(".like").find("ul").html(e), $(".tiaozhuan").find("li").click(function () { setCookie("id", $(this).attr("index")), window.location.href = "../pages/detail.html" }) } }), $(".like").find("ol").find("li").click(function () { $(this).attr("index") || $(this).attr("index", $(this).find("span").text()), $.ajax({ async: !0, url: "../php/content.php", dataType: "json", data: { id: $(this).attr("index") }, success: function (n) { $(".like ul.clear").html(""); for (var e = "", l = 0; l < n.length; l++)e += '<li class="clear ye"  class="ye" index="' + n[l].id + '">\n                    <img src="' + n[l].img + '" alt="">\n                    <p>' + n[l].title + '</p>\n                    <div class="clear">\n                        <b>￥</b>\n                        <h3>' + n[l].inven + "</h3>\n                        <i>销量19</i>\n                    </div>\n                </li>"; $(".like").find("ul").html(e), $(".tiaozhuan").find("li").click(function () { setCookie("id", $(this).attr("index")), window.location.href = "../pages/detail.html" }) } }) }), $(".like").find("ol").find("input").blur(function () { $.ajax({ async: !0, url: "../php/content.php", dataType: "json", data: { id: $(this).val() }, success: function (n) { $(".like ul.clear").html(""); for (var e = "", l = 0; l < n.length; l++)e += '<li class="clear ye" index="' + n[l].id + '">\n                    <img src="' + n[l].img + '" alt="">\n                    <p>' + n[l].title + '</p>\n                    <div class="clear">\n                        <b>￥</b>\n                        <h3>' + n[l].inven + "</h3>\n                        <i>销量19</i>\n                    </div>\n                </li>"; $(".like").find("ul").html(e), $(".tiaozhuan").find("li").click(function () { setCookie("id", $(this).attr("index")), window.location.href = "../pages/detail.html" }) } }) }), getCookie("username") ? ($("#login").text("欢迎尊贵的" + getCookie("username")), $("#zhuche").text("退出"), $("#zhuche").click(function (n) { var e = layer.confirm("你确定要退出吗", { btn: ["确定", "取消"], btn1: function () { delCookie("username"), $("#login").text("登录"), $("#zhuche").text("免费注册"), $("#login").click(function () { window.location.href = "../pages/login.html" }), $("#zhuche").click(function () { window.location.href = "../pages/register.html" }), layer.close(e) } }) }), $("#login").click(function (n) { return !1 })) : ($("#login").text("登录"), $("#login").click(function () { window.location.href = "../pages/login.html" }), $("#zhuche").click(function () { window.location.href = "../pages/register.html" })), document.querySelector("#btn1").addEventListener("input", function () { var l = $(this).val(), e = document.createElement("script"); e.className = "jsonp", document.querySelectorAll("script").forEach(function (n) { "jsonp" == n.className && (e = n) }), e.src = "https://www.baidu.com/sugrec?pre=1&p=3&ie=utf-8&json=1&prod=pc&from=pc_web&sugsid=33801,\n        31253,34004,33607,26350&wd=" + l + "&req=2&csor=3&pwd=as&cb=fn&_=1622097839544", window.fn = function (n) { var e = ""; console.log(n.g), n.g && (n.g.forEach(function (n) { e += "<li>" + n.q + "</li>" }), l ? ($("#baidu").find("ul").html(e), $("#baidu").find("ul").css("display", "block")) : $("#baidu").find("ul").css("display", "none")) }, document.body.appendChild(e), document.body.removeChild(e) }) });