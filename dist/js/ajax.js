"use strict";function ajax(e){var t={url:"",method:"get",ele:{},eleType:"string",fun:function(){}};for(var n in e)t[n]=e[n];if(!t.url)throw new Error("url必须传入");var r="";for(var o in t.ele)r+=o+"="+t.ele[o]+"&";r=r.slice(0,-1);var a=new XMLHttpRequest;"GET"==t.method.toUpperCase()?(a.open("get",t.url+"?"+r),a.send()):(a.open("post",t.url),a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),a.send(r)),a.onreadystatechange=function(){if(4==a.readyState&&/^2\d{2}$/.test(a.status)){var e=a.responseText;"JSON"==t.eleType.toUpperCase()&&(e=JSON.parse(e)),t.fun(e)}}}function pAjax(n){return new Promise(function(t,e){window.resolve=t,ajax({url:n.url,method:n.method||"get",ele:n.ele||{},eleType:n.eleType||"string",fun:n.fun||function(e){t(e)}})})}